<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Tableau Éditable</title>
    <link rel="icon" href="/src/images/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .header {
            background-color: #005f73;
            color: #ffffff;
            padding: 20px;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between; /* Permet d'espacer les éléments */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header img {
            width: auto;
            height: 50px;
        }
        .header h1 {
            margin: 0; /* Supprime les marges */
            font-size: 24px; /* Réduire la taille de la police */
            text-align: center; /* Centrer horizontalement */
            flex-grow: 1; /* Permet au titre de prendre l'espace restant */
        }
        .navigation {
            background-color: #007BFF;
            color: #ffffff;
            padding: 10px 0;
            text-align: center;
        }
        .navigation a {
            text-decoration: none;
            color: #ffffff;
            margin: 0 10px;
            font-size: 18px;
        }
        .navigation a:hover {
            background-color: #0056b3;
            padding: 10px 20px;
            border-radius: 5px;
        }
        .footer {
            background-color: #005f73;
            color: #ffffff;
            padding: 20px;
            text-align: center;
            font-size: 16px;
            margin-top: auto;
            box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
<div class="header">
    <a href="/src/index.html"><img src="/src/images/ASlogo.png" alt="AS Logo" style="height: 50px;"></a>
    <h1>AS Associés - Tableau de Gestion</h1>
    <!-- Vous pouvez ajouter un lien autour du logo pour revenir à la page d'accueil -->
</div>
<div class="navigation">
    <button id="saveButton">Sauvegarder</button>
    <a href="/src/years/2024/Months/Decembre/Decembre.html" class="nav-button">Début</a>
    <a href="Semaine-Decembre3.html" class="nav-button">Semaine Précédente</a>
</div>
<div id="week4" class="tabcontent">
    <div class="table-title">Semaine-Décembre 4</div>
    <table id="monthTable">
        <thead>
        <tr>
            <th>Jour</th>
            <th>Nombres d'appel</th>
            <th>Appel réussi</th>
            <th>Appel nul</th>
            <th>Nombres de v1</th>
        </tr>
        </thead>
        <tbody>
        <!-- Tableau pour la semaine 4 -->
        <tr>
            <td>Lundi</td>
            <td><input type="text" id="lundi_appels_month" value=""></td>
            <td><input type="text" id="lundi_reussis_month" value=""></td>
            <td><input type="text" id="lundi_nuls_month" value=""></td>
            <td><input type="text" id="lundi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Mardi</td>
            <td><input type="text" id="mardi_appels_month" value=""></td>
            <td><input type="text" id="mardi_reussis_month" value=""></td>
            <td><input type="text" id="mardi_nuls_month" value=""></td>
            <td><input type="text" id="mardi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Mercredi</td>
            <td><input type="text" id="Mercredi_appels_month" value=""></td>
            <td><input type="text" id="Mercredi_reussis_month" value=""></td>
            <td><input type="text" id="Mercredi_nuls_month" value=""></td>
            <td><input type="text" id="Mercredi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Jeudi</td>
            <td><input type="text" id="Jeudi_appels_month" value=""></td>
            <td><input type="text" id="Jeudi_reussis_month" value=""></td>
            <td><input type="text" id="Jeudi_nuls_month" value=""></td>
            <td><input type="text" id="Jeudi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Vendredi</td>
            <td><input type="text" id="Vendredi_appels_month" value=""></td>
            <td><input type="text" id="Vendredi_reussis_month" value=""></td>
            <td><input type="text" id="Vendredi_nuls_month" value=""></td>
            <td><input type="text" id="Vendredi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Samedi</td>
            <td><input type="text" id="Samedi_appels_month" value=""></td>
            <td><input type="text" id="Samedi_reussis_month" value=""></td>
            <td><input type="text" id="Samedi_nuls_month" value=""></td>
            <td><input type="text" id="Samedi_v1_month" value=""></td>
        </tr>
        <tr>
            <td>Dimanche</td>
            <td><input type="text" id="Dimanche_appels_month" value=""></td>
            <td><input type="text" id="Dimanche_reussis_month" value=""></td>
            <td><input type="text" id="Dimanche_nuls_month" value=""></td>
            <td><input type="text" id="Dimanche_v1_month" value=""></td>
        </tr>
        <!-- Répétez la structure des jours de la semaine pour la semaine 1 -->
        </tbody>
    </table>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Gestionnaire d'événements pour le clic sur le bouton "Sauvegarder"
        document.getElementById('saveButton').addEventListener('click', function() {
            saveTableData(); // Appeler la fonction pour enregistrer les données
        });
    
        // Gestionnaire d'événements pour la modification des champs de texte
        const inputFields = document.querySelectorAll('#week4 input[type="text"]');
        inputFields.forEach(field => {
            field.addEventListener('input', function() {
                saveTableData(); // Appeler la fonction pour enregistrer les données chaque fois qu'un champ de texte est modifié
            });
        });
    
        // Charger les données de chaque semaine dans le tableau du mois
        function loadWeekDataToMonthTable() {
            // Vérifier s'il y a des données stockées dans le stockage local
            const storedData = localStorage.getItem('monthTableData');
            if (storedData) {
                const monthTable = document.getElementById('monthTable');
                const data = JSON.parse(storedData);
                monthTable.innerHTML = ''; // Effacer le contenu actuel du tableau
                data.forEach(rowData => {
                    const newRow = document.createElement('tr');
                    rowData.forEach(cellValue => {
                        const newCell = document.createElement('td');
                        newCell.textContent = cellValue;
                        newRow.appendChild(newCell);
                    });
                    monthTable.appendChild(newRow);
                });
            }
        }
    
        loadWeekDataToMonthTable(); // Appeler la fonction pour charger les données de chaque semaine dans le tableau du mois
    
        // Enregistrer les données dans le stockage local
        function saveTableData() {
            const monthTableBody = document.getElementById('monthTable').querySelector('tbody');
            const monthTableRows = monthTableBody.querySelectorAll('tr');
    
            const data = [];
            monthTableRows.forEach(row => {
                const rowData = [];
                const cells = row.querySelectorAll('td');
                cells.forEach(cell => {
                    rowData.push(cell.textContent);
                });
                data.push(rowData);
            });
    
            localStorage.setItem('monthTableData', JSON.stringify(data));
        }
    });
</script>
</body>
</html>
